# task

Есть 3 ф-ии:

1) getUsers() - асинхронная ф-я, итоговые выходные данные - массив объектов пользователей;
пример объекта пользователя 
{
  id: number, 
  gender: number, (0 - female, 1-male),
  ..... остальные данные не важны для контекста задачи
}

2) getPreferences(userID) - асинхронная ф-я, итоговые выходные данные - массив предпочтительных товаров данного пользователя (от 0 до 5 эл.), в массиве значения не повторяются;
Пример:
[id, id, id, ...], в случае 0 эл-в - [], id - численно-буквенный

3) getGenderPreferences(gender) - асинхронная ф-я, итоговые выходные данные - массив предпочтительных товаров по половому признаку (может быть от 2 до 5 эл.), в массиве значения не повторяются;
Пример:
[id, id, id, ...], в случае 0 эл-в - [], id - численно-буквенный


(*) - функции getUsers, getPreferences и getGenderPreferences - базовые, считать, что они уже разработаны. Для удобства разработки задачи можно им прописать возврат какой-либо статики с задержкой. Реализация этих ф-й не принципиальна для тестового.


Задача:
Написать ассинхронную ф-ю, итоговые выходные данные которой -  массив из топ-10 товаров по следующей логике:

1) топ формируется исходя из наиболее частого вхождения товаров в списки предпочтения пользователей;

2) учитываются строго 5 товаров из списка предпочтения пользователя;

3) в случае если у пользователя в предпочтениях менее 5 товаров его список дополняется товароми из списка топ товаров по гендерной пренадлежности. В итоговом списке предпочтений пользователя не должно быть повторений;

4) в случает нехватки товаров в предпочтениях пользователя после 3-го пункта данный пользователь не участвует в формировании выборки;


Важно - максимально понятный код, но до примитивизма доходить не нужно :)



